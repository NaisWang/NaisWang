# 寄存器
寄存器是中央处理器内的组成部份。寄存器是有限存贮容量的高速存贮部件，它们可用来暂存指令、数据和位址。在中央处理器的控制部件中，包含的寄存器有指令寄存器(IR)和程序计数器(PC)。在中央处理器的算术及逻辑部件中，包含的寄存器有累加器(ACC)。

寄存器是内存阶层中的最顶端，也是系统获得操作资料的最快速途径。寄存器通常都是以他们可以保存的位元数量来估量，举例来说，一个 “8 位元寄存器”或 “32 位元寄存器”。寄存器现在都以寄存器档案的方式来实作，但是他们也可能使用单独的正反器、高速的核心内存、薄膜内存以及在数种机器上的其他方式来实作出来。

寄存器通常都用来意指由一个指令之输出或输入可以直接索引到的暂存器群组。更适当的是称他们为 “架构寄存器”。

寄存器是CPU内部的元件，寄存器拥有非常高的读写速度，所以在寄存器之间的数据传送非常快。

## 寄存器用途
- 可将寄存器内的数据执行算术及逻辑运算；
- 存于寄存器内的地址可用来指向内存的某个位置，即寻址；
- 可以用来读写数据到电脑的周边设备。

## 数据寄存器
8086 有14个16位寄存器，这14个寄存器按其用途可分为:
- 通用寄存器
- 指令指针
- 标志寄存器
- 段寄存器

### 通用寄存器
通用寄存器有8个, 又可以分成2组:
- 一组是数据寄存器(4个)
- 另一组是指针寄存器及变址寄存器(4个)

#### 数据寄存器
数据寄存器分为:
- AH&AL＝AX(accumulator)：累加寄存器，常用于运算;在乘除等指令中指定用来存放操作数,另外,所有的I/O指令都使用这一寄存器与外界设备传送数据.
- BH&BL＝BX(base)：基址寄存器，常用于地址索引；
- CH&CL＝CX(count)：计数寄存器，常用于计数；常用于保存计算值,如在移位指令,循环(loop)和串处理指令中用作隐含的计数器.
- DH&DL＝DX(data)：数据寄存器，常用于数据传递。

他们的特点是,这4个16位的寄存器可以分为高8位: AH, BH, CH, DH.以及低八位：AL,BL,CL,DL。这2组8位寄存器可以分别寻址，并单独使用。

#### 指针寄存器和变址寄存器
指针寄存器和变址寄存器分为:
- SP（Stack Pointer）：堆栈指针，与SS配合使用，可指向目前的堆栈位置；
- BP（Base Pointer）：基址指针寄存器，可用作SS的一个相对基址位置；
- SI（Source Index）：源变址寄存器可用来存放相对于DS段之源变址指针；
- DI（Destination Index）：目的变址寄存器，可用来存放相对于 ES 段之目的变址指针。

这4个16位寄存器只能按16位进行存取操作，主要用来形成操作数的地址，用于堆栈操作和变址运算中计算操作数的有效地址。

### 指令指针IP(Instruction Pointer)
指令指针IP是一个16位专用寄存器，它指向当前需要取出的指令字节，当BIU从内存中取出一个指令字节后，IP就自动加1，指向下一个指令字节。注意，IP指向的是指令地址的段内地址偏移量，又称偏移地址(Offset Address)或有效地址(EA，Effective Address)。


# c语言与汇编语言
## 例1
```cpp
main() {
  int a = 5;
  int b = 2;
  int c = 7;
  int sum = a + b + c;
  printf("%d", sum);
}
```

对应汇编语言：
```asm
assume cs:code, ds:data

data segment
  a dw 5
  b dw 2
  c dw 7
data ends

code segment
  start:
  mov bx, data
  mov ds, bx

  mov ax, a
  add ax, b 
  add ax, c
  

  mov ax, 4c00h
  int 21h
  
code ends

end start
```
  

